{"version":3,"file":null,"sources":["../node_modules/dom-node-tostring/dist/bundle.es.js","../node_modules/is-regexp/index.js","../node_modules/dom-search/dist/bundle.es.js","../node_modules/dom-search-replace/dist/bundle.es.js","../node_modules/domify/index.js","../node_modules/dom-from/index.js","../node_modules/escape-html/index.js","../node_modules/really-unique-id/really-unique-id.js","../dist/bundle.es.js","src.js"],"sourcesContent":["var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n};\n\nfunction nodeToString(node) {\n\n    if ((typeof node === 'undefined' ? 'undefined' : _typeof(node)) !== 'object' || typeof node.nodeType === 'undefined') {\n        throw new TypeError('In nodeToString: ' + node + ' is not a DOM node.');\n    }\n\n    //Try not to use clone if\n    if (node.nodeType === Node.ELEMENT_NODE) {\n        //Check for innerHTML because some nodes don't have it\n        //Can innerHTML be used? Check to see if node is the only Node.\n        if (node.parentNode && node.parentNode.childNodes.length === 1) {\n            return String(node.parentNode.innerHTML);\n        } else {\n            return cloneToString(node);\n        }\n        //Check for children (elements) which some text nodes will have\n    } else if (node.nodeType === Node.TEXT_NODE && !node.children) {\n        return node.textContent;\n    }\n\n    return cloneToString(node);\n}\n\nfunction cloneToString(node) {\n    var p = document.createElement('p');\n\n    try {\n        var clone = node.cloneNode(true);\n        p.appendChild(clone);\n    } catch (e) {\n        throw new Error('In nodeToString:\\n        Attemp at cloning ' + node + ' failed - with error ' + e);\n    }\n\n    return p.innerHTML;\n}\n\nexport default nodeToString;\n//# sourceMappingURL=bundle.es.js.map\n","'use strict';\nmodule.exports = function (re) {\n\treturn Object.prototype.toString.call(re) === '[object RegExp]';\n};\n","import nodeToString from 'dom-node-tostring';\nimport isRegexp from 'is-regexp';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n};\n\nfunction domSearch(doc, pattern, options) {\n\n    var search = (typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object' ? Object.create(options) : {};\n    search.all = typeof search.all === 'boolean' ? search.all : false;\n    search.type = getPatternType(pattern);\n    search.result = [];\n    search.pattern = pattern;\n\n    if (doc.nodeType === Node.ELEMENT_NODE) {\n        return searchDoc(doc, search);\n    } else if (doc.nodeType === Node.TEXT_NODE) {\n        if (doc.children.length) {\n            return searchDoc(doc, search);\n        } else {\n            return checkTextNode(doc, search);\n        }\n    }\n}\n\nfunction searchDoc(doc, search) {\n\n    searchChildren(doc, search);\n\n    return search.result;\n}\n\nfunction searchChildren(doc, search) {\n    if (search.type === 'regexp') {\n        return searchRegexp(doc, search);\n    }\n\n    return searchString(doc, search);\n}\n\nfunction searchString(doc, search) {\n\n    for (var i = 0; i < doc.childNodes.length; i++) {\n        var child = doc.childNodes[i];\n\n        if (child.nodeType === Node.TEXT_NODE) {\n            var str = nodeToString(child);\n\n            if (str.indexOf(search.pattern) !== -1) {\n\n                search.result.push({\n                    textNode: child,\n                    parent: doc\n                });\n\n                if (!search.all) {\n                    break;\n                }\n            }\n        } else {\n            searchDoc(child, search);\n        }\n    }\n\n    return search;\n}\n\nfunction searchRegexp(doc, search) {\n\n    for (var i = 0; i < doc.childNodes.length; i++) {\n        var child = doc.childNodes[i];\n\n        if (child.nodeType === Node.TEXT_NODE) {\n\n            var str = nodeToString(child);\n            var match = void 0;\n\n            if ((match = str.match(search.pattern)) !== null) {\n\n                search.result.push({\n                    textNode: child,\n                    parent: doc,\n                    match: match\n                });\n\n                if (!search.all) {\n                    break;\n                }\n            }\n        } else {\n            searchDoc(child, search);\n        }\n    }\n\n    return search;\n}\n\nfunction checkTextNode(node, search) {\n    var str = nodeToString(node);\n\n    if (search.type === 'string') {\n        if (doc.indexOf(pattern) !== -1) {\n            return [{ textNode: node, parent: node.parentNode }];\n        }\n    } else if (search.type === 'regexp') {\n        var match = void 0;\n        if (match = search.pattern.match(node)) {\n            return [{\n                textNode: node,\n                parent: node.parentNode,\n                match: match\n            }];\n        }\n    }\n\n    return [];\n}\n\nfunction getPatternType(pattern) {\n    if (isRegexp(pattern)) {\n        return 'regexp';\n    }\n\n    return typeof pattern === 'undefined' ? 'undefined' : _typeof(pattern);\n}\n\nexport default domSearch;\n//# sourceMappingURL=bundle.es.js.map\n","import domSearch from 'dom-search';\nimport isRegexp from 'is-regexp';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n};\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nfunction domSearchReplace(doc, pattern, replacement, options) {\n    var search = (typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object' ? Object.create(options) : {};\n    search.all = typeof search.all === 'boolean' ? search.all : false;\n    search.replaceType = getReplacementType(replacement);\n\n    var result = domSearch(doc, pattern, options);\n\n    if (!result.length) {\n        return doc;\n    }\n\n    if (search.replaceType === 'node') {\n        replaceWithNode(result[0], pattern, replacement, search);\n        return doc;\n    } else if (search.replaceType === 'appendTo') {\n        replaceWithAppendTo(result[0], pattern, replacement, search);\n        return doc;\n    }\n\n    replacement = String(replacement);\n\n    if (!search.all) {\n        replaceWithText(result[0], pattern, replacement, search);\n        return doc;\n    }\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n        for (var _iterator = result[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var res = _step.value;\n\n            replaceWithText(res, pattern, replacement, search);\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n            }\n        } finally {\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n\n    return doc;\n}\n\nfunction replaceWithText(result, pattern, replacement, search) {\n    var str = result.textNode.nodeValue;\n    var parts = void 0,\n        collect = '';\n\n    if (sameLength(pattern, str)) {\n        result.textNode.nodeValue = replacement;\n        return;\n    }\n\n    if (search.all) {\n        parts = str.split(pattern);\n    } else {\n        parts = str.split(pattern, 2);\n    }\n\n    for (var i = 0; i < parts.length; i++) {\n        collect += parts[i];\n        if (i < parts.length - 1) {\n            collect += replacement;\n        }\n    }\n\n    result.textNode.nodeValue = collect;\n}\n\nfunction replaceWithNode(result, pattern, replacement, search) {\n    var str = result.textNode.nodeValue;\n\n    if (sameLength(pattern, str)) {\n        result.parent.replaceChild(replacement, result.textNode);\n        return;\n    }\n\n    var _str$split = str.split(pattern, 2);\n\n    var _str$split2 = slicedToArray(_str$split, 2);\n\n    var before = _str$split2[0];\n    var after = _str$split2[1];\n\n\n    var frag = document.createDocumentFragment();\n\n    frag.appendChild(document.createTextNode(before));\n    frag.appendChild(replacement);\n    frag.appendChild(document.createTextNode(after));\n\n    result.parent.replaceChild(frag, result.textNode);\n}\n\nfunction replaceWithAppendTo(result, pattern, replacement, search) {\n    var str = result.textNode.nodeValue;\n    var frag = document.createDocumentFragment();\n\n    if (sameLength(pattern, str)) {\n        replacement.appendTo(frag);\n    } else {\n        var _str$split3 = str.split(pattern, 2);\n\n        var _str$split4 = slicedToArray(_str$split3, 2);\n\n        var before = _str$split4[0];\n        var after = _str$split4[1];\n\n\n        frag.appendChild(document.createTextNode(before));\n        replacement.appendTo(frag);\n        frag.appendChild(document.createTextNode(after));\n    }\n\n    result.parent.replaceChild(frag, result.textNode);\n}\n\nfunction getReplacementType(replacement) {\n    if (isNode(replacement)) {\n        return 'node';\n    } else if ((typeof replacement === 'undefined' ? 'undefined' : _typeof(replacement)) === 'object' && typeof replacement.appendTo === 'function') {\n        return 'appendTo';\n    }\n    return 'none';\n}\n\nfunction sameLength(pattern, str) {\n    if (typeof pattern === 'string' && pattern.length === str.length) {\n        return true;\n    } else if (isRegexp(pattern)) {\n        var match = str.match(pattern);\n        if (match[0].length === str.length) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nfunction isNode(o) {\n    return (typeof Node === 'undefined' ? 'undefined' : _typeof(Node)) === \"object\" ? o instanceof Node : o && (typeof o === 'undefined' ? 'undefined' : _typeof(o)) === \"object\" && typeof o.nodeType === \"number\" && typeof o.nodeName === \"string\";\n}\n\nexport default domSearchReplace;\n//# sourceMappingURL=bundle.es.js.map\n","\n/**\n * Expose `parse`.\n */\n\nmodule.exports = parse;\n\n/**\n * Tests for browser support.\n */\n\nvar innerHTMLBug = false;\nvar bugTestDiv;\nif (typeof document !== 'undefined') {\n  bugTestDiv = document.createElement('div');\n  // Setup\n  bugTestDiv.innerHTML = '  <link/><table></table><a href=\"/a\">a</a><input type=\"checkbox\"/>';\n  // Make sure that link elements get serialized correctly by innerHTML\n  // This requires a wrapper element in IE\n  innerHTMLBug = !bugTestDiv.getElementsByTagName('link').length;\n  bugTestDiv = undefined;\n}\n\n/**\n * Wrap map from jquery.\n */\n\nvar map = {\n  legend: [1, '<fieldset>', '</fieldset>'],\n  tr: [2, '<table><tbody>', '</tbody></table>'],\n  col: [2, '<table><tbody></tbody><colgroup>', '</colgroup></table>'],\n  // for script/link/style tags to work in IE6-8, you have to wrap\n  // in a div with a non-whitespace character in front, ha!\n  _default: innerHTMLBug ? [1, 'X<div>', '</div>'] : [0, '', '']\n};\n\nmap.td =\nmap.th = [3, '<table><tbody><tr>', '</tr></tbody></table>'];\n\nmap.option =\nmap.optgroup = [1, '<select multiple=\"multiple\">', '</select>'];\n\nmap.thead =\nmap.tbody =\nmap.colgroup =\nmap.caption =\nmap.tfoot = [1, '<table>', '</table>'];\n\nmap.polyline =\nmap.ellipse =\nmap.polygon =\nmap.circle =\nmap.text =\nmap.line =\nmap.path =\nmap.rect =\nmap.g = [1, '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">','</svg>'];\n\n/**\n * Parse `html` and return a DOM Node instance, which could be a TextNode,\n * HTML DOM Node of some kind (<div> for example), or a DocumentFragment\n * instance, depending on the contents of the `html` string.\n *\n * @param {String} html - HTML string to \"domify\"\n * @param {Document} doc - The `document` instance to create the Node for\n * @return {DOMNode} the TextNode, DOM Node, or DocumentFragment instance\n * @api private\n */\n\nfunction parse(html, doc) {\n  if ('string' != typeof html) throw new TypeError('String expected');\n\n  // default to the global `document` object\n  if (!doc) doc = document;\n\n  // tag name\n  var m = /<([\\w:]+)/.exec(html);\n  if (!m) return doc.createTextNode(html);\n\n  html = html.replace(/^\\s+|\\s+$/g, ''); // Remove leading/trailing whitespace\n\n  var tag = m[1];\n\n  // body support\n  if (tag == 'body') {\n    var el = doc.createElement('html');\n    el.innerHTML = html;\n    return el.removeChild(el.lastChild);\n  }\n\n  // wrap map\n  var wrap = map[tag] || map._default;\n  var depth = wrap[0];\n  var prefix = wrap[1];\n  var suffix = wrap[2];\n  var el = doc.createElement('div');\n  el.innerHTML = prefix + html + suffix;\n  while (depth--) el = el.lastChild;\n\n  // one element\n  if (el.firstChild == el.lastChild) {\n    return el.removeChild(el.firstChild);\n  }\n\n  // several elements\n  var fragment = doc.createDocumentFragment();\n  while (el.firstChild) {\n    fragment.appendChild(el.removeChild(el.firstChild));\n  }\n\n  return fragment;\n}\n","var domify = require('domify');\n\n/*\ngit remote add origin https://github.com/hollowdoor/dom_from.git\ngit push -u origin master\n*/\n\nmodule.exports = function(el, doc){\n    var frag, type, i;\n\n    if(!doc){\n        doc = document;\n    }\n\n    if(typeof el === 'string'){\n        return domify(el, doc);\n    }else{\n        if(el !== undefined && !isNaN(el.nodeType) && el.nodeType > 0){\n            return el;\n        }\n        type = Object.prototype.toString.call(el);\n        if(type === '[object Object]'){\n            if(el.root && !isNaN(el.root.nodeType) && el.nodeType > 0)\n                return el.root;\n            if(el.length){\n                frag = doc.createDocumentFragment();\n                for(i=0; i<el.length; i++){\n                    frag.appendChild(el[i].cloneNode(true));\n                }\n                return frag;\n            }\n        }else if(type === '[object Array]'){\n            frag = doc.createDocumentFragment();\n            for(i=0; i<el.length; i++){\n                frag.appendChild(el[i]);\n            }\n            return frag;\n        }\n    }\n\n    return domify(el+'', doc);\n};\n","/*!\n * escape-html\n * Copyright(c) 2012-2013 TJ Holowaychuk\n * Copyright(c) 2015 Andreas Lubbe\n * Copyright(c) 2015 Tiancheng \"Timothy\" Gu\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module variables.\n * @private\n */\n\nvar matchHtmlRegExp = /[\"'&<>]/;\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = escapeHtml;\n\n/**\n * Escape special characters in the given string of html.\n *\n * @param  {string} string The string to escape for inserting into HTML\n * @return {string}\n * @public\n */\n\nfunction escapeHtml(string) {\n  var str = '' + string;\n  var match = matchHtmlRegExp.exec(str);\n\n  if (!match) {\n    return str;\n  }\n\n  var escape;\n  var html = '';\n  var index = 0;\n  var lastIndex = 0;\n\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34: // \"\n        escape = '&quot;';\n        break;\n      case 38: // &\n        escape = '&amp;';\n        break;\n      case 39: // '\n        escape = '&#39;';\n        break;\n      case 60: // <\n        escape = '&lt;';\n        break;\n      case 62: // >\n        escape = '&gt;';\n        break;\n      default:\n        continue;\n    }\n\n    if (lastIndex !== index) {\n      html += str.substring(lastIndex, index);\n    }\n\n    lastIndex = index + 1;\n    html += escape;\n  }\n\n  return lastIndex !== index\n    ? html + str.substring(lastIndex, index)\n    : html;\n}\n","/**\n * For that extra degree of randomness.\n */\nvar incrementor = 0\n\nmodule.exports = uniqueId\n\n/**\n * Returns a unique string using a random\n * integer, a timestamp and a fingerprint.\n *\n * @returns {Number} uniqueId\n */\nfunction uniqueId () {\n  return [randomInt(), hammerTime(), randomInt().slice(4)].join('-')\n}\n\n/**\n * Returns a random 32 bit integer.\n *\n * @returns {Number} random\n */\nfunction randomInt () {\n  var maxVal = Math.round(1 * 1e17)\n  return format(Math.round(Math.random() * 1e17), maxVal)\n}\n\n/**\n * Returns the time in ms since 1970.\n *\n * @returns {Number} hammertime\n */\nfunction hammerTime () {\n  /**\n   * http://en.wikipedia.org/wiki/List_of_dates_predicted_for_apocalyptic_events\n   */\n  var doomsDay = new Date()\n  doomsDay.setFullYear('2239')\n  return format((new Date()).getTime() + (incrementor++ % 10000), doomsDay.getTime())\n}\n\nfunction format (n, maxVal) {\n  return pad(n.toString(36), maxVal.toString(36).length)\n}\n\nfunction pad (n, width) {\n  return nZeroes(width - String(n).length) + n\n  function nZeroes (n) {\n    var length = Math.max((n + 1), 1)\n    var z = new Array(length)\n    return z.join('0')\n  }\n}\n","import domSearchReplace from 'dom-search-replace';\nimport nodeToString from 'dom-node-tostring';\nimport domFrom from 'dom-from';\nimport escapeHTML from 'escape-html';\nimport createID from 'really-unique-id';\n\nfunction setEvents(root, events) {\n\n    while (events.length) {\n        var event = events.shift();\n        var element = root.querySelector(\"[\" + event.attribute + \"=\\\"\" + event.id + \"\\\"]\");\n        if (element && event.event in element) {\n            element.addEventListener(event.event, event.listener, false);\n            element.removeAttribute(event.attribute);\n        }\n    }\n}\n\nfunction setElements(root, elements) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n        for (var _iterator = elements[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var element = _step.value;\n\n            domSearchReplace(root, element.id, element.element);\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n            }\n        } finally {\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n\n    return root;\n}\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\n\n\n\n\nvar asyncGenerator = function () {\n  function AwaitValue(value) {\n    this.value = value;\n  }\n\n  function AsyncGenerator(gen) {\n    var front, back;\n\n    function send(key, arg) {\n      return new Promise(function (resolve, reject) {\n        var request = {\n          key: key,\n          arg: arg,\n          resolve: resolve,\n          reject: reject,\n          next: null\n        };\n\n        if (back) {\n          back = back.next = request;\n        } else {\n          front = back = request;\n          resume(key, arg);\n        }\n      });\n    }\n\n    function resume(key, arg) {\n      try {\n        var result = gen[key](arg);\n        var value = result.value;\n\n        if (value instanceof AwaitValue) {\n          Promise.resolve(value.value).then(function (arg) {\n            resume(\"next\", arg);\n          }, function (arg) {\n            resume(\"throw\", arg);\n          });\n        } else {\n          settle(result.done ? \"return\" : \"normal\", result.value);\n        }\n      } catch (err) {\n        settle(\"throw\", err);\n      }\n    }\n\n    function settle(type, value) {\n      switch (type) {\n        case \"return\":\n          front.resolve({\n            value: value,\n            done: true\n          });\n          break;\n\n        case \"throw\":\n          front.reject(value);\n          break;\n\n        default:\n          front.resolve({\n            value: value,\n            done: false\n          });\n          break;\n      }\n\n      front = front.next;\n\n      if (front) {\n        resume(front.key, front.arg);\n      } else {\n        back = null;\n      }\n    }\n\n    this._invoke = send;\n\n    if (typeof gen.return !== \"function\") {\n      this.return = undefined;\n    }\n  }\n\n  if (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n    AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n      return this;\n    };\n  }\n\n  AsyncGenerator.prototype.next = function (arg) {\n    return this._invoke(\"next\", arg);\n  };\n\n  AsyncGenerator.prototype.throw = function (arg) {\n    return this._invoke(\"throw\", arg);\n  };\n\n  AsyncGenerator.prototype.return = function (arg) {\n    return this._invoke(\"return\", arg);\n  };\n\n  return {\n    wrap: function (fn) {\n      return function () {\n        return new AsyncGenerator(fn.apply(this, arguments));\n      };\n    },\n    await: function (value) {\n      return new AwaitValue(value);\n    }\n  };\n}();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar get$1 = function get$1(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get$1(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar set = function set(object, property, value, receiver) {\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent !== null) {\n      set(parent, property, value, receiver);\n    }\n  } else if (\"value\" in desc && desc.writable) {\n    desc.value = value;\n  } else {\n    var setter = desc.set;\n\n    if (setter !== undefined) {\n      setter.call(receiver, value);\n    }\n  }\n\n  return value;\n};\n\nfunction isElement(value) {\n       return value && value.nodeType === 1 && value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) == 'object' && Object.prototype.toString.call(value).indexOf('Element') > -1;\n}\n\nvar operations = [];\n\nObject.defineProperties(operations, {\n    appendTo: {\n        value: function value(element) {\n            if (typeof element === 'string') {\n                try {\n                    element = document.querySelector(element);\n                } catch (e) {\n                    throw new TypeError(element + ' is not a valid selector.');\n                }\n            }\n\n            if (!isElement(element)) {\n                throw new TypeError(element + ' is not a DOM element.');\n            }\n\n            element.appendChild(this[0]);\n        }\n    },\n    html: {\n        value: function value() {\n            return nodeToString(this[0]);\n        }\n    }\n});\n\nfunction createDOMOperations(dom) {\n    var ops = Object.create(operations);\n\n    Object.defineProperties(ops, {\n        0: {\n            get: function get() {\n                return dom;\n            }\n        }\n    });\n\n    return ops;\n}\n\nvar domExists = typeof document !== 'undefined' && typeof document.getElementById === 'function' && typeof document.createDocumentFragment === 'function';\n\nfunction moveStyle(root) {\n    var styles = root.querySelectorAll('style');\n    var head = document.querySelector('head');\n    if (styles && styles.length) {\n        [].slice.call(styles).forEach(function (style) {\n            head.appendChild(style);\n        });\n    }\n}\n\nfunction createDOMTemplate() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$domlib = _ref.domlib,\n        domlib = _ref$domlib === undefined ? createDOMOperations : _ref$domlib,\n        _ref$escape = _ref.escape,\n        escape = _ref$escape === undefined ? escapeHTML : _ref$escape,\n        _ref$styleToHead = _ref.styleToHead,\n        styleToHead = _ref$styleToHead === undefined ? true : _ref$styleToHead;\n\n    return function html(strings) {\n\n        var values = [].slice.call(arguments, 1);\n\n        var result = '',\n            string = strings[0],\n            elements = [],\n            events = [],\n            dom = null;\n\n        for (var i = 0; i < values.length; i++) {\n\n            var value = values[i];\n            var type = typeof value === 'undefined' ? 'undefined' : _typeof(value);\n\n            if (type === 'string') {\n                result += string + escape(value);\n            } else if (domExists) {\n                if (type === 'object') {\n                    if (isElement(value) || typeof value.appendTo === 'function') {\n                        var id = createID();\n\n                        elements.push({\n                            id: id,\n                            element: value\n                        });\n\n                        result += string + id;\n                    } else {\n                        throw new TypeError(value + ' is not a valid element, or does not have\\n                            an appendTo method.');\n                    }\n                } else if (type === 'function') {\n                    var m = void 0;\n                    if (m = string.match(/[\\s](on[\\S]+)=$/)) {\n\n                        var _id = createID();\n                        events.push({\n                            id: _id,\n                            attribute: m[1],\n                            event: m[1].replace('on', ''),\n                            listener: value\n                        });\n                        result += string + '\"' + _id + '\"';\n                    } else {\n                        throw new TypeError(m[1] + ' is not an event attribute.');\n                    }\n                }\n            } else {\n                result += string + escape(value);\n            }\n\n            string = strings[i + 1];\n        }\n\n        result = (result += string).trim();\n\n        if (domExists) {\n            dom = domFrom(result);\n\n            dom = setElements(dom, elements);\n            setEvents(dom, events);\n\n            if (styleToHead) {\n                moveStyle(dom);\n            }\n        }\n\n        return domlib(dom || result);\n    };\n}\n\n/*\ngit remote add origin https://github.com/hollowdoor/dom_compose.git\ngit push -u origin master\n*/\n\nexport default createDOMTemplate;\n//# sourceMappingURL=bundle.es.js.map\n","import domCompose from '../';\nconst doc = domCompose();\n//With commonjs\n//const doc = require('dom-compose')();\n\nconst tpl = (input) => doc `\n\n    <div>\n    <style>.greeting{ border: 1px solid red; }</style>\n    <p>Hello ${input.text} ${input.div}</p>\n    <button onclick=${(event)=>{\n        console.log('hello');\n    }}>Say</button>\n    <input class=\"greeting\">\n    </div>\n`;\n\nlet div = document.createElement('div');\nlet text = 'world';\ndiv.innerHTML = `I'm a div.`;\n\nlet $el = tpl({text, div});\n$el.appendTo(document.querySelector('body'));\n"],"names":["_typeof","Symbol","iterator","obj","constructor","nodeToString","node","nodeType","TypeError","Node","ELEMENT_NODE","parentNode","childNodes","length","String","innerHTML","cloneToString","TEXT_NODE","children","textContent","p","document","createElement","clone","cloneNode","appendChild","e","Error","re","Object","prototype","toString","call","domSearch","doc","pattern","options","search","create","all","type","getPatternType","result","searchDoc","checkTextNode","searchChildren","searchRegexp","searchString","i","child","str","indexOf","push","match","textNode","parent","isRegexp","slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","undefined","_i","_s","next","done","value","err","Array","isArray","domSearchReplace","replacement","replaceType","getReplacementType","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","res","return","replaceWithText","nodeValue","parts","collect","sameLength","split","replaceWithNode","replaceChild","_str$split","_str$split2","before","after","frag","createDocumentFragment","createTextNode","replaceWithAppendTo","appendTo","_str$split3","_str$split4","isNode","o","nodeName","parse","innerHTMLBug","bugTestDiv","getElementsByTagName","map","td","th","option","optgroup","thead","tbody","colgroup","caption","tfoot","polyline","ellipse","polygon","circle","text","line","path","rect","g","html","m","exec","replace","tag","el","removeChild","lastChild","wrap","_default","depth","prefix","suffix","firstChild","fragment","domify","require$$0","isNaN","root","matchHtmlRegExp","escapeHtml","string","escape","index","lastIndex","charCodeAt","substring","incrementor","uniqueId","randomInt","hammerTime","slice","join","maxVal","Math","round","format","random","doomsDay","Date","setFullYear","getTime","n","pad","width","nZeroes","max","z","setEvents","events","event","shift","element","querySelector","attribute","id","addEventListener","listener","removeAttribute","setElements","elements","asyncGenerator","AwaitValue","AsyncGenerator","gen","front","back","send","key","arg","Promise","resolve","reject","request","resume","then","settle","_invoke","asyncIterator","throw","fn","apply","arguments","get$1","object","property","receiver","Function","desc","getOwnPropertyDescriptor","getPrototypeOf","getter","get","set","writable","setter","isElement","operations","defineProperties","createDOMOperations","dom","ops","domExists","getElementById","moveStyle","styles","querySelectorAll","head","forEach","style","createDOMTemplate","_ref","_ref$domlib","domlib","_ref$escape","escapeHTML","_ref$styleToHead","styleToHead","strings","values","createID","_id","trim","domFrom","domCompose","tpl","input","div","log","$el"],"mappings":"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"}