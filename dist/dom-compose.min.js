var domCompose=function(){"use strict";function e(e,t){for(;t.length;){var n=t.shift(),r=e.querySelector("["+n.attribute+'="'+n.id+'"]');r&&n.event in r&&(r.addEventListener(n.event,n.listener,!1),r.removeAttribute(n.attribute))}}function t(e){if("object"!==("undefined"==typeof e?"undefined":O(e))||"undefined"==typeof e.nodeType)throw new TypeError("In nodeToString: "+e+" is not a DOM node.");return e.nodeType===Node.ELEMENT_NODE?e.parentNode&&1===e.parentNode.childNodes.length?String(e.parentNode.innerHTML):n(e):e.nodeType!==Node.TEXT_NODE||e.children?n(e):e.textContent}function n(e){var t=document.createElement("p");try{var n=e.cloneNode(!0);t.appendChild(n)}catch(t){throw new Error("In nodeToString:\n        Attemp at cloning "+e+" failed - with error "+t)}return t.innerHTML}function r(e,t,n){var r="object"===("undefined"==typeof n?"undefined":D(n))?Object.create(n):{};return r.all="boolean"==typeof r.all&&r.all,r.type=d(t),r.result=[],r.pattern=t,e.nodeType===Node.ELEMENT_NODE?o(e,r):e.nodeType===Node.TEXT_NODE?e.children.length?o(e,r):l(e,r):void 0}function o(e,t){return i(e,t),t.result}function i(e,t){return"regexp"===t.type?u(e,t):a(e,t)}function a(e,n){for(var r=0;r<e.childNodes.length;r++){var i=e.childNodes[r];if(i.nodeType===Node.TEXT_NODE){var a=t(i);if(a.indexOf(n.pattern)!==-1&&(n.result.push({textNode:i,parent:e}),!n.all))break}else o(i,n)}return n}function u(e,n){for(var r=0;r<e.childNodes.length;r++){var i=e.childNodes[r];if(i.nodeType===Node.TEXT_NODE){var a=t(i),u=void 0;if(null!==(u=a.match(n.pattern))&&(n.result.push({textNode:i,parent:e,match:u}),!n.all))break}else o(i,n)}return n}function l(e,n){t(e);if("string"===n.type){if(doc.indexOf(pattern)!==-1)return[{textNode:e,parent:e.parentNode}]}else if("regexp"===n.type){var r=void 0;if(r=n.pattern.match(e))return[{textNode:e,parent:e.parentNode,match:r}]}return[]}function d(e){return k(e)?"regexp":"undefined"==typeof e?"undefined":D(e)}function c(e,t,n,o){var i="object"===("undefined"==typeof o?"undefined":M(o))?Object.create(o):{};i.all="boolean"==typeof i.all&&i.all,i.replaceType=s(n);var a=r(e,t,o);if(!a.length)return e;if("node"===i.replaceType)return p(a[0],t,n,i),e;if("appendTo"===i.replaceType)return y(a[0],t,n,i),e;if(n=String(n),!i.all)return f(a[0],t,n,i),e;var u=!0,l=!1,d=void 0;try{for(var c,h=a[Symbol.iterator]();!(u=(c=h.next()).done);u=!0){var v=c.value;f(v,t,n,i)}}catch(e){l=!0,d=e}finally{try{!u&&h.return&&h.return()}finally{if(l)throw d}}return e}function f(e,t,n,r){var o=e.textNode.nodeValue,i=void 0,a="";if(h(t,o))return void(e.textNode.nodeValue=n);i=r.all?o.split(t):o.split(t,2);for(var u=0;u<i.length;u++)a+=i[u],u<i.length-1&&(a+=n);e.textNode.nodeValue=a}function p(e,t,n,r){var o=e.textNode.nodeValue;if(h(t,o))return void e.parent.replaceChild(n,e.textNode);var i=o.split(t,2),a=_(i,2),u=a[0],l=a[1],d=document.createDocumentFragment();d.appendChild(document.createTextNode(u)),d.appendChild(n),d.appendChild(document.createTextNode(l)),e.parent.replaceChild(d,e.textNode)}function y(e,t,n,r){var o=e.textNode.nodeValue,i=document.createDocumentFragment();if(h(t,o))n.appendTo(i);else{var a=o.split(t,2),u=_(a,2),l=u[0],d=u[1];i.appendChild(document.createTextNode(l)),n.appendTo(i),i.appendChild(document.createTextNode(d))}e.parent.replaceChild(i,e.textNode)}function s(e){return v(e)?"node":"object"===("undefined"==typeof e?"undefined":M(e))&&"function"==typeof e.appendTo?"appendTo":"none"}function h(e,t){if("string"==typeof e&&e.length===t.length)return!0;if(k(e)){var n=t.match(e);if(n[0].length===t.length)return!0}return!1}function v(e){return"object"===("undefined"==typeof Node?"undefined":M(Node))?e instanceof Node:e&&"object"===("undefined"==typeof e?"undefined":M(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}function m(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;c(e,u.id,u.element)}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return e}function b(e){return e&&1===e.nodeType&&e&&"object"==("undefined"==typeof e?"undefined":L(e))&&Object.prototype.toString.call(e).indexOf("Element")>-1}function g(e){var t=Object.create(A);return Object.defineProperties(t,{0:{get:function(){return e}}}),t}function T(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var r=n[1];if("body"==r){var o=t.createElement("html");return o.innerHTML=e,o.removeChild(o.lastChild)}var i=X[r]||X._default,a=i[0],u=i[1],l=i[2],o=t.createElement("div");for(o.innerHTML=u+e+l;a--;)o=o.lastChild;if(o.firstChild==o.lastChild)return o.removeChild(o.firstChild);for(var d=t.createDocumentFragment();o.firstChild;)d.appendChild(o.removeChild(o.firstChild));return d}function N(e){var t=""+e,n=B.exec(t);if(!n)return t;var r,o="",i=0,a=0;for(i=n.index;i<t.length;i++){switch(t.charCodeAt(i)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}a!==i&&(o+=t.substring(a,i)),a=i+1,o+=r}return a!==i?o+t.substring(a,i):o}function x(){return[w(),S(),w().slice(4)].join("-")}function w(){var e=Math.round(1e17);return E(Math.round(1e17*Math.random()),e)}function S(){var e=new Date;return e.setFullYear("2239"),E((new Date).getTime()+R++%1e4,e.getTime())}function E(e,t){return C(e.toString(36),t.toString(36).length)}function C(e,t){function n(e){var t=Math.max(e+1,1),n=new Array(t);return n.join("0")}return n(t-String(e).length)+e}function j(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.domlib,r=void 0===n?g:n,o=t.escape,i=void 0===o?$:o;return function(t){for(var n=[].slice.call(arguments,1),o="",a=t[0],u=[],l=[],d=null,c=0;c<n.length;c++){var f=n[c],p="undefined"==typeof f?"undefined":L(f);if("string"===p)o+=a+i(f);else if(I){if("object"===p){if(!b(f)&&"function"!=typeof f.appendTo)throw new TypeError(f+" is not a valid element, or does not have\n                            an appendTo method.");var y=Y();u.push({id:y,element:f}),o+=a+y}else if("function"===p){var s=void 0;if(!(s=a.match(/[\s](on[\S]+)=$/)))throw new TypeError(s[1]+" is not an event attribute.");var h=Y();l.push({id:h,attribute:s[1],event:s[1].replace("on",""),listener:f}),o+=a+'"'+h+'"'}}else o+=a+i(f);a=t[c+1]}return o=(o+=a).trim(),I&&(d=q(o),d=m(d,u),e(d,l)),r(d||o)}}var O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},k=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},_=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A=(function(){function e(e){this.value=e}function t(t){function n(e,t){return new Promise(function(n,o){var u={key:e,arg:t,resolve:n,reject:o,next:null};a?a=a.next=u:(i=a=u,r(e,t))})}function r(n,i){try{var a=t[n](i),u=a.value;u instanceof e?Promise.resolve(u.value).then(function(e){r("next",e)},function(e){r("throw",e)}):o(a.done?"return":"normal",a.value)}catch(e){o("throw",e)}}function o(e,t){switch(e){case"return":i.resolve({value:t,done:!0});break;case"throw":i.reject(t);break;default:i.resolve({value:t,done:!1})}i=i.next,i?r(i.key,i.arg):a=null}var i,a;this._invoke=n,"function"!=typeof t.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)},{wrap:function(e){return function(){return new t(e.apply(this,arguments))}},await:function(t){return new e(t)}}}(),[]);Object.defineProperties(A,{appendTo:{value:function(e){if("string"==typeof e)try{e=document.querySelector(e)}catch(t){throw new TypeError(e+" is not a valid selector.")}if(!b(e))throw new TypeError(e+" is not a DOM element.");e.appendChild(this[0])}},html:{value:function(){return t(this[0])}}});var F,I="undefined"!=typeof document&&"function"==typeof document.getElementById&&"function"==typeof document.createDocumentFragment,H=T,V=!1;"undefined"!=typeof document&&(F=document.createElement("div"),F.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',V=!F.getElementsByTagName("link").length,F=void 0);var X={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:V?[1,"X<div>","</div>"]:[0,"",""]};X.td=X.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],X.option=X.optgroup=[1,'<select multiple="multiple">',"</select>"],X.thead=X.tbody=X.colgroup=X.caption=X.tfoot=[1,"<table>","</table>"],X.polyline=X.ellipse=X.polygon=X.circle=X.text=X.line=X.path=X.rect=X.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var P=H,q=function(e,t){var n,r,o;if(t||(t=document),"string"==typeof e)return P(e,t);if(void 0!==e&&!isNaN(e.nodeType)&&e.nodeType>0)return e;if(r=Object.prototype.toString.call(e),"[object Object]"===r){if(e.root&&!isNaN(e.root.nodeType)&&e.nodeType>0)return e.root;if(e.length){for(n=t.createDocumentFragment(),o=0;o<e.length;o++)n.appendChild(e[o].cloneNode(!0));return n}}else if("[object Array]"===r){for(n=t.createDocumentFragment(),o=0;o<e.length;o++)n.appendChild(e[o]);return n}return P(e+"",t)},B=/["'&<>]/,$=N,R=0,Y=x;return j}();